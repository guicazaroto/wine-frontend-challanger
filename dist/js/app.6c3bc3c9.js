(function(t){function e(e){for(var n,c,i=e[0],s=e[1],u=e[2],p=0,d=[];p<i.length;p++)c=i[p],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&d.push(a[c][0]),a[c]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],n=!0,i=1;i<r.length;i++){var s=r[i];0!==a[s]&&(n=!1)}n&&(o.splice(e--,1),t=c(c.s=r[0]))}return t}var n={},a={app:0},o=[];function c(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=t,c.c=n,c.d=function(t,e,r){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(r,n,function(e){return t[e]}.bind(null,n));return r},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=s;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},o=[],c=r("2877"),i={},s=Object(c["a"])(i,a,o,!1,null,null,null),u=s.exports,l=r("8c4f"),p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("NavBar",{attrs:{items:t.items}}),r("router-view")],1)},d=[],f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Cart",{attrs:{"is-open":t.isOpen},on:{toggle:t.toggleCart}}),r("header",{staticClass:"header"},[r("div",{staticClass:"container header__container"},[t._m(0),r("ul",{staticClass:"navbar"},t._l(t.items,(function(e){return r("li",{key:e.title,staticClass:"navbar__item"},[r("a",{staticClass:"navbar__link",attrs:{href:e.link}},[t._v(t._s(e.title))])])})),0),r("div",{staticClass:"header__cart",on:{click:t.toggleCart}},[r("img",{staticClass:"cart__icon",attrs:{src:"img/bag-icon.png",alt:"carrinho de compras"}}),r("span",{staticClass:"cart__total"},[t._v(t._s(t.total))])])])])],1)},m=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h1",{staticClass:"header__logo"},[r("a",{attrs:{href:"#"}},[r("img",{attrs:{src:"img/wine.svg",alt:"Wine Vinhos"}})])])}],v=r("2f62"),_=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cart"},[r("div",{class:["cart__sidebar",{"sidebar--close":!t.isOpen}]},[r("div",{staticClass:"cart__header"},[r("div",{staticClass:"cart__header__btn",on:{click:t.toggle}},[r("img",{attrs:{src:"/img/icon_arrow_left.svg",alt:""}})]),r("h4",{staticClass:"cart__header__title"},[t._v("WineBox ("+t._s(t.totalItens)+")")])]),r("div",{staticClass:"cart__body"},t._l(t.cart,(function(e){return r("div",{key:e.product.name,staticClass:"cart__product"},[r("div",{staticClass:"cart__product__img"},[r("img",{attrs:{src:e.product.image}})]),r("div",{staticClass:"cart__info"},[r("div",{staticClass:"cart__info__top"},[r("p",{staticClass:"cart__product__title"},[t._v(t._s(e.product.name))]),r("div",{on:{click:function(r){return t.removeFromCart(e.product)}}},[r("img",{staticClass:"product__remove",attrs:{src:"/img/close.svg"}})])]),r("div",{staticClass:"cart__info__bottom"},[r("div",{staticClass:"cart__increment"},[r("button",{on:{click:function(r){return t.decrementItem(e)}}},[t._v("-")]),r("input",{attrs:{type:"text"},domProps:{value:e.qtd}}),r("button",{on:{click:function(r){return t.incrementItem(e)}}},[t._v("+")])]),r("span",{staticClass:"bottom__price"},[t._v("R$ "+t._s(t.formatBrl(e.product.pricePromotional)))])])])])})),0),r("div",{staticClass:"cart__footer"},[r("div",{staticClass:"cart__subtotal"},[r("span",{staticClass:"title"},[t._v("Subtotal")]),r("span",{staticClass:"price"},[t._v("R$ "+t._s(t.formatBrl(t.totalPrice)))])]),r("button",{staticClass:"btn product__btn btn--green"},[t._v("Finalizar pedido")])])]),r("div",{class:["cart__wrapper",{"wrapper--close":!t.isOpen}],on:{click:t.toggle}})])},b=[],g=function(t){return t.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})},h={addProduct:function(t){if(t.available){var e=this.getStorage();if(e){var r=this.getProductIndex(e,t);-1!==r?this.storeExistingProduct(t,e,r):this.storeNewProduct(t,e)}else this.createNewStorage(t)}},getStorage:function(){var t=localStorage.getItem("products"),e=JSON.parse(t);return e},getProductIndex:function(t,e){return t.findIndex((function(t){return t.product.name===e.name}))},createNewStorage:function(t){var e=[];e.push({product:t,qtd:1}),this.setToLocalStorage(e)},storeExistingProduct:function(t,e,r){e[r].qtd++,this.setToLocalStorage(e)},storeNewProduct:function(t,e){e.push({product:t,qtd:1}),this.setToLocalStorage(e)},setToLocalStorage:function(t){localStorage.setItem("products",JSON.stringify(t))},removeProduct:function(t){var e=this.getStorage(),r=this.getProductIndex(e,t);-1!==r&&e.splice(r,1),this.setToLocalStorage(e)},decrementItem:function(t){var e=this.getStorage(),r=this.getProductIndex(e,t.product);1!==e[r].qtd&&(e[r].qtd--,this.setToLocalStorage(e))}},O=h;function P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?P(Object(r),!0).forEach((function(e){w(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function w(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var C={props:{isOpen:{type:Boolean,required:!0}},computed:y({},Object(v["c"])("cart",{cart:function(t){return t.data},totalItens:function(t){return t.totalItens},totalPrice:function(t){return t.totalPrice}})),methods:y(y({},Object(v["b"])({updateCart:"cart/updateCart"})),{},{formatBrl:g,toggle:function(){this.$emit("toggle")},removeFromCart:function(t){O.removeProduct(t),this.updateCart()},incrementItem:function(t){O.addProduct(t.product),this.updateCart()},decrementItem:function(t){O.decrementItem(t),this.updateCart()}})},j=C,S=Object(c["a"])(j,_,b,!1,null,null,null),E=S.exports;function T(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function x(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?T(Object(r),!0).forEach((function(e){k(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function k(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var A={props:{items:{type:Array,required:!0}},components:{Cart:E},data:function(){return{isOpen:!1}},computed:x({},Object(v["c"])("cart",{total:function(t){return t.totalItens}})),created:function(){this.updateCart()},methods:x(x({},Object(v["b"])({updateCart:"cart/updateCart"})),{},{toggleCart:function(){this.isOpen=!this.isOpen,this.removeOverflow()},removeOverflow:function(){this.isOpen?document.body.style.overflow="hidden":document.body.style.overflow="visible"}})},D=A,I=Object(c["a"])(D,f,m,!1,null,null,null),B=I.exports,L={components:{NavBar:B},data:function(){return{items:[{title:"Clube",link:"#"},{title:"Loja",link:"#"},{title:"Produtores",link:"#"},{title:"Ofertas",link:"#"},{title:"Eventos",link:"#"}]}},jsonld:{"@context":"http://schema.org","@type":"Organization",name:"Wine",legalName:"W2W E-Commerce de Vinhos S.A",url:"https://www.wine.com.br/",logo:"https://img.wine.com.br/fenix/image/logo.png",foundingDate:"2008",address:{"@type":"PostalAddress",streetAddress:"Rua Manoel Feu Subtil 60",addressLocality:"Vitória",addressRegion:"ES",postalCode:"29050-400",addressCountry:"BR"},contactPoint:[{"@type":"ContactPoint",telephone:"+55-27-3202-2600",contactType:"customer service",areaServed:"BR"},{"@type":"ContactPoint",telephone:"+55-27-3202-2600",contactType:"Sales"}],sameAs:["https://www.facebook.com/wine.vinhos","https://twitter.com/wine_vinhos","https://www.instagram.com/winevinhos/","https://www.youtube.com/user/WineVinhos"]}},R=L,$=Object(c["a"])(R,p,d,!1,null,null,null),N=$.exports,q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container pb-20"},[r("Banner"),r("Products")],1)},U=[],W=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},F=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"banner mt-4"},[r("a",{staticClass:"banner__link",attrs:{href:"#"}},[r("picture",[r("source",{staticClass:"banner__img",attrs:{srcset:"img/Banner-mobile.jpg",media:"(max-width: 992px)"}}),r("img",{staticClass:"banner__img",attrs:{src:"img/Banner.jpg",alt:""}})])])])}],J={},M=Object(c["a"])(J,W,F,!1,null,null,null),V=M.exports,G=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.loading?t._e():r("div",{staticClass:"products mt-4"},t._l(t.products,(function(e){return r("div",{key:e.name,staticClass:"product__item"},[r("div",{staticClass:"product__box"},[r("div",{staticClass:"product__img"},[r("img",{attrs:{src:e.image}})]),r("div",{staticClass:"product__info"},[r("h3",{staticClass:"product__description"},[t._v(t._s(e.name))]),r("div",{staticClass:"buy-box"},[e.available?r("div",{staticClass:"price-info"},[r("span",{staticClass:"product__price"},[t._v("R$ "+t._s(t.formatBrl(e.priceStock)))]),r("span",{staticClass:"product__customer"},[t._v("sócio wine")]),r("p",{staticClass:"product__member-price"},[r("span",{staticClass:"symbol"},[t._v("R$")]),r("span",{staticClass:"integer"},[t._v(t._s(t.formatBrl(e.pricePromotional)))])])]):t._e(),r("button",{class:["btn product__btn desktop",{"btn--purple":e.available}],on:{click:function(r){return t.addProduct(e)}}},[e.available?r("span",[t._v("Adicionar")]):r("span",[t._v("Esgotado")])])])])]),r("button",{class:["btn product__btn mobile",{"btn--purple":e.available}],on:{click:function(r){return t.addProduct(e)}}},[e.available?r("span",[t._v("Adicionar")]):r("span",[t._v("Esgotado")])])])})),0)},z=[];function H(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function K(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?H(Object(r),!0).forEach((function(e){Q(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Q(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var X={computed:K({},Object(v["c"])("products",{products:function(t){return t.data},loading:function(t){return t.loading}})),methods:K(K({formatBrl:g},Object(v["b"])({getProducts:"products/getProducts",updateCart:"cart/updateCart",addProduct:"cart/addProduct"})),{},{addProduct:function(t){O.addProduct(t),this.updateCart()}}),created:function(){this.getProducts()}},Y=X,Z=Object(c["a"])(Y,G,z,!1,null,null,null),tt=Z.exports,et={name:"Home",metaInfo:{htmlAttrs:{lang:"pt-BR"},title:"Wine | Compre vinhos online com descontos exclusivos!",meta:[{name:"descrition",content:"Vinho tinto, rosé, branco ou espumante. Na Wine, você encontra os melhores rótulos pelos menores preços. Acesse a loja ou baixe nosso aplicativo!"}]},components:{Banner:V,Products:tt}},rt=et,nt=Object(c["a"])(rt,q,U,!1,null,null,null),at=nt.exports;n["a"].use(l["a"]);var ot=[{path:"/",component:N,children:[{path:"/",name:"Home",component:at}]}],ct=new l["a"]({mode:"history",base:"/",routes:ot}),it=ct,st=r("a34a"),ut=r.n(st),lt=r("bc3a"),pt=r.n(lt),dt="https://run.mocky.io/v3",ft=pt.a.create({baseURL:dt,headers:{Accept:"application/json"}});function mt(t,e,r,n,a,o,c){try{var i=t[o](c),s=i.value}catch(u){return void r(u)}i.done?e(s):Promise.resolve(s).then(n,a)}function vt(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function c(t){mt(o,n,a,c,i,"next",t)}function i(t){mt(o,n,a,c,i,"throw",t)}c(void 0)}))}}function _t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function gt(t,e,r){return e&&bt(t.prototype,e),r&&bt(t,r),t}var ht="908ec5b5-1e5a-4602-9008-47719f7c6759",Ot=function(){function t(e){_t(this,t),this.client=e}return gt(t,[{key:"getAll",value:function(){var t=vt(ut.a.mark((function t(){var e;return ut.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.client.get("/".concat(ht));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),Pt=Ot,yt={},wt={products:Pt};yt.make=function(t){return new wt[t](ft)};var Ct=yt;function jt(t,e,r,n,a,o,c){try{var i=t[o](c),s=i.value}catch(u){return void r(u)}i.done?e(s):Promise.resolve(s).then(n,a)}function St(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function c(t){jt(o,n,a,c,i,"next",t)}function i(t){jt(o,n,a,c,i,"throw",t)}c(void 0)}))}}var Et={data:null,loading:!1},Tt={getProducts:function(t){return St(ut.a.mark((function e(){var r,n,a;return ut.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,r("SET_LOADING",!0),n=Ct.make("products"),e.next=6,n.getAll();case 6:a=e.sent,r("SET_DATA",a.data);case 8:return e.prev=8,r("SET_LOADING",!1),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[1,,8,11]])})))()}},xt={SET_LOADING:function(t,e){t.loading=e},SET_DATA:function(t,e){t.data=e}},kt={namespaced:!0,state:Et,actions:Tt,mutations:xt},At={data:JSON.parse(localStorage.getItem("products")),totalItens:0,totalPrice:0},Dt={updateCart:function(t){var e=t.commit,r=t.dispatch;e("UPDATE_CART",JSON.parse(localStorage.getItem("products"))),r("updateTotal"),r("updatePrice")},updateTotal:function(t){var e=t.state,r=t.commit,n=e.data;if(n&&n.length)if(n.length>1){var a=n.reduce((function(t,e){return t.qtd+e.qtd}));r("UPDATE_TOTAL",a)}else r("UPDATE_TOTAL",n[0].qtd);else r("UPDATE_TOTAL",0)},updatePrice:function(t){var e=t.commit,r=At.data;if(r&&r.length)if(r.length>1){var n=r.reduce((function(t,e){return t.product.pricePromotional*t.qtd+e.product.pricePromotional*e.qtd}));e("UPDATE_PRICE",n)}else{var a=r[0].product.pricePromotional*r[0].qtd;e("UPDATE_PRICE",a)}else e("UPDATE_PRICE",0)}},It={UPDATE_CART:function(t,e){t.data=e},UPDATE_TOTAL:function(t,e){t.totalItens=e},UPDATE_PRICE:function(t,e){t.totalPrice=e}},Bt={namespaced:!0,state:At,actions:Dt,mutations:It};n["a"].use(v["a"]);var Lt=new v["a"].Store({modules:{products:kt,cart:Bt}}),Rt=(r("ae2c"),{install:function(t){t.prototype.$repository=function(t){return Ct.make(t)}}}),$t=Rt,Nt=r("58ca"),qt=r("ead8");n["a"].use($t),n["a"].use(Nt["a"]),n["a"].use(qt["a"]),n["a"].config.productionTip=!1,new n["a"]({router:it,store:Lt,render:function(t){return t(u)}}).$mount("#app")},ae2c:function(t,e,r){}});
//# sourceMappingURL=app.6c3bc3c9.js.map